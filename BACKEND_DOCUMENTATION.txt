# TRAINING PLACEMENT MANAGEMENT SYSTEM (TPMS) - BACKEND DOCUMENTATION

## PROJECT OVERVIEW
This is a comprehensive Spring Boot backend application for managing training and placement activities in educational institutions. The system supports three user roles: Admin, Student, and Recruiter.

## TECHNOLOGY STACK
- Framework: Spring Boot 3.x
- Database: MySQL 8.0
- Security: JWT Authentication
- Build Tool: Maven
- Documentation: Swagger/OpenAPI
- ORM: JPA/Hibernate

## PROJECT STRUCTURE
```
training_placement_backend_tpms/
├── src/main/java/com/tpms/
│   ├── config/                 # Configuration classes
│   ├── controller/             # REST Controllers
│   ├── dto/                    # Data Transfer Objects
│   ├── entity/                 # JPA Entities
│   ├── enums/                  # Enum classes
│   ├── exception/              # Custom exceptions
│   ├── repository/             # Data repositories
│   ├── security/               # Security configuration
│   └── service/                # Business logic
├── src/main/resources/
│   ├── application.properties  # Application configuration
│   └── static/                 # Static resources
└── pom.xml                     # Maven dependencies
```

## DATABASE SCHEMA

### 1. USERS TABLE
```sql
CREATE TABLE users (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    full_name VARCHAR(255) NOT NULL,
    email VARCHAR(255) UNIQUE NOT NULL,
    password VARCHAR(255) NOT NULL,
    phone VARCHAR(20),
    role ENUM('ADMIN', 'STUDENT', 'RECRUITER') NOT NULL,
    status ENUM('ACTIVE', 'INACTIVE') DEFAULT 'ACTIVE',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);
```

### 2. STUDENT_DETAILS TABLE
```sql
CREATE TABLE student_details (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    user_id BIGINT UNIQUE,
    gender ENUM('MALE', 'FEMALE', 'OTHER'),
    enrollment_no VARCHAR(50),
    department VARCHAR(50),
    passing_year VARCHAR(10),
    dob VARCHAR(20),
    age VARCHAR(5),
    address_line1 VARCHAR(255),
    address_line2 VARCHAR(255),
    city VARCHAR(100),
    state VARCHAR(100),
    pincode VARCHAR(10),
    nationality VARCHAR(50),
    profile_photo TEXT,
    linkedin_url TEXT,
    github_url TEXT,
    portfolio_url TEXT,
    education_json TEXT,
    experience_json TEXT,
    skills_json TEXT,
    projects_json TEXT,
    resume_links_json TEXT,
    career_interests TEXT,
    preferred_job_location VARCHAR(255),
    placement_status VARCHAR(50),
    profile_completed BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);
```

### 3. COMPANIES TABLE
```sql
CREATE TABLE companies (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    website VARCHAR(255),
    address TEXT,
    description TEXT,
    owner_id BIGINT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (owner_id) REFERENCES users(id) ON DELETE SET NULL
);
```

### 4. JOBS TABLE
```sql
CREATE TABLE jobs (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    description TEXT,
    location VARCHAR(255),
    employment_type VARCHAR(50),
    status ENUM('OPEN', 'CLOSED', 'DRAFT') DEFAULT 'OPEN',
    posted_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    salary VARCHAR(255),
    skills_required TEXT,
    deadline VARCHAR(20),
    company_id BIGINT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (company_id) REFERENCES companies(id) ON DELETE CASCADE
);
```

### 5. APPLICATIONS TABLE
```sql
CREATE TABLE applications (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    student_id BIGINT NOT NULL,
    job_id BIGINT NOT NULL,
    status ENUM('APPLIED', 'SHORTLISTED', 'REJECTED', 'SELECTED') DEFAULT 'APPLIED',
    applied_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (student_id) REFERENCES users(id) ON DELETE CASCADE,
    FOREIGN KEY (job_id) REFERENCES jobs(id) ON DELETE CASCADE,
    UNIQUE KEY unique_application (student_id, job_id)
);
```

### 6. TRAININGS TABLE
```sql
CREATE TABLE trainings (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    description TEXT,
    start_date VARCHAR(20),
    end_date VARCHAR(20),
    max_participants INT DEFAULT 0,
    enrolled_count INT DEFAULT 0,
    status ENUM('ACTIVE', 'INACTIVE', 'UPCOMING', 'COMPLETED') DEFAULT 'ACTIVE',
    trainer_id BIGINT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (trainer_id) REFERENCES users(id) ON DELETE SET NULL
);
```

### 7. TRAINING_ENROLLMENTS TABLE
```sql
CREATE TABLE training_enrollments (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    student_id BIGINT NOT NULL,
    training_id BIGINT NOT NULL,
    enrolled_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    status ENUM('ENROLLED', 'COMPLETED', 'DROPPED') DEFAULT 'ENROLLED',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (student_id) REFERENCES users(id) ON DELETE CASCADE,
    FOREIGN KEY (training_id) REFERENCES trainings(id) ON DELETE CASCADE,
    UNIQUE KEY unique_enrollment (student_id, training_id)
);
```

## CORE ENTITIES

### 1. User Entity
```java
@Entity
@Table(name = "users")
@Data
public class User extends BaseEntity {
    @Column(name = "full_name", nullable = false)
    private String fullName;
    
    @Column(unique = true, nullable = false)
    private String email;
    
    @Column(nullable = false)
    private String password; // BCrypt hashed
    
    private String phone;
    
    @Enumerated(EnumType.STRING)
    @Column(nullable = false)
    private Role role;
    
    @Enumerated(EnumType.STRING)
    @Column(nullable = false)
    private Status status = Status.ACTIVE;
    
    @OneToOne(mappedBy = "user", cascade = CascadeType.ALL, orphanRemoval = true)
    private StudentProfile studentProfile;
}
```

### 2. StudentProfile Entity
```java
@Entity
@Table(name = "student_details")
@Data
public class StudentProfile extends BaseEntity {
    @OneToOne(fetch = FetchType.EAGER)
    @JoinColumn(name = "user_id", unique = true)
    private User user;
    
    @Enumerated(EnumType.STRING)
    private Gender gender;
    
    private String enrollmentNo;
    private String department;
    private String passingYear;
    private String dob;
    private String age;
    
    // Address fields
    private String addressLine1;
    private String addressLine2;
    private String city;
    private String state;
    private String pincode;
    private String nationality;
    
    // Profile links
    private String profilePhoto;
    private String linkedinUrl;
    private String githubUrl;
    private String portfolioUrl;
    
    // JSON stored data
    @Column(columnDefinition = "TEXT")
    private String educationJson;
    
    @Column(columnDefinition = "TEXT")
    private String experienceJson;
    
    @Column(columnDefinition = "TEXT")
    private String skillsJson;
    
    @Column(columnDefinition = "TEXT")
    private String projectsJson;
    
    @Column(columnDefinition = "TEXT")
    private String resumeLinksJson;
    
    @Column(columnDefinition = "TEXT")
    private String careerInterests;
    
    private String preferredJobLocation;
    private String placementStatus;
    private Boolean profileCompleted = false;
}
```

### 3. Job Entity
```java
@Entity
@Table(name = "jobs")
@Data
public class Job extends BaseEntity {
    @Column(nullable = false)
    private String title;
    
    @Column(columnDefinition = "TEXT")
    private String description;
    
    private String location;
    private String employmentType;
    
    @Enumerated(EnumType.STRING)
    private JobStatus status = JobStatus.OPEN;
    
    private LocalDateTime postedAt;
    private String salary;
    
    @Column(columnDefinition = "TEXT")
    private String skillsRequired;
    
    private String deadline;
    
    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = "company_id")
    private Company company;
    
    @OneToMany(mappedBy = "job", cascade = CascadeType.ALL, orphanRemoval = true)
    private List<Application> applications = new ArrayList<>();
}
```

### 4. Application Entity
```java
@Entity
@Table(name = "applications")
@Data
public class Application extends BaseEntity {
    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = "student_id", nullable = false)
    private User student;
    
    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = "job_id", nullable = false)
    private Job job;
    
    @Enumerated(EnumType.STRING)
    private ApplicationStatus status = ApplicationStatus.APPLIED;
    
    private LocalDateTime appliedAt;
}
```

### 5. Training Entity
```java
@Entity
@Table(name = "trainings")
@Data
public class Training extends BaseEntity {
    @Column(nullable = false)
    private String title;
    
    @Column(columnDefinition = "TEXT")
    private String description;
    
    private String startDate;
    private String endDate;
    private Integer maxParticipants = 0;
    private Integer enrolledCount = 0;
    
    @Enumerated(EnumType.STRING)
    private TrainingStatus status = TrainingStatus.ACTIVE;
    
    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = "trainer_id")
    private User trainer;
    
    @OneToMany(mappedBy = "training", cascade = CascadeType.ALL, orphanRemoval = true)
    private List<TrainingEnrollment> enrollments = new ArrayList<>();
}
```

## ENUMS

### 1. Role Enum
```java
public enum Role {
    ADMIN, STUDENT, RECRUITER
}
```

### 2. Status Enum
```java
public enum Status {
    ACTIVE, INACTIVE
}
```

### 3. Gender Enum
```java
public enum Gender {
    MALE, FEMALE, OTHER
}
```

### 4. ApplicationStatus Enum
```java
public enum ApplicationStatus {
    APPLIED, SHORTLISTED, REJECTED, SELECTED
}
```

### 5. JobStatus Enum
```java
public enum JobStatus {
    OPEN, CLOSED, DRAFT
}
```

### 6. TrainingStatus Enum
```java
public enum TrainingStatus {
    ACTIVE, INACTIVE, UPCOMING, COMPLETED
}
```

## REPOSITORIES

### 1. UserRepository
```java
@Repository
public interface UserRepository extends JpaRepository<User, Long> {
    Optional<User> findByEmail(String email);
    boolean existsByEmail(String email);
    List<User> findByRole(Role role);
    List<User> findByStatus(Status status);
}
```

### 2. StudentProfileRepository
```java
@Repository
public interface StudentProfileRepository extends JpaRepository<StudentProfile, Long> {
    Optional<StudentProfile> findByUserId(Long userId);
    boolean existsByUserId(Long userId);
}
```

### 3. JobRepository
```java
@Repository
public interface JobRepository extends JpaRepository<Job, Long> {
    List<Job> findByStatus(JobStatus status);
    List<Job> findByCompanyId(Long companyId);
    List<Job> findByTitleContainingIgnoreCase(String title);
    List<Job> findByLocationContainingIgnoreCase(String location);
}
```

### 4. ApplicationRepository
```java
@Repository
public interface ApplicationRepository extends JpaRepository<Application, Long> {
    List<Application> findByStudentId(Long studentId);
    List<Application> findByJobId(Long jobId);
    List<Application> findByStatus(ApplicationStatus status);
    Optional<Application> findByStudentIdAndJobId(Long studentId, Long jobId);
    boolean existsByStudentIdAndJobId(Long studentId, Long jobId);
}
```

### 5. TrainingRepository
```java
@Repository
public interface TrainingRepository extends JpaRepository<Training, Long> {
    List<Training> findByStatus(TrainingStatus status);
    List<Training> findByTrainerId(Long trainerId);
}
```

### 6. TrainingEnrollmentRepository
```java
@Repository
public interface TrainingEnrollmentRepository extends JpaRepository<TrainingEnrollment, Long> {
    List<TrainingEnrollment> findByStudentId(Long studentId);
    List<TrainingEnrollment> findByTrainingId(Long trainingId);
    Optional<TrainingEnrollment> findByTrainingIdAndStudentId(Long trainingId, Long studentId);
    void deleteByTrainingId(Long trainingId);
}
```

## MAIN CONTROLLERS

### 1. AuthController
```java
@RestController
@RequestMapping("/api/auth")
@RequiredArgsConstructor
public class AuthController {
    private final AuthService authService;
    
    /**
     * User login endpoint
     * @param loginRequest - email and password
     * @return JWT token and user details
     */
    @PostMapping("/login")
    public ResponseEntity<ApiResponse<LoginResponse>> login(@RequestBody LoginRequest loginRequest) {
        return ResponseEntity.ok(authService.login(loginRequest));
    }
    
    /**
     * User registration endpoint
     * @param signupRequest - user registration data
     * @return success message
     */
    @PostMapping("/signup")
    public ResponseEntity<ApiResponse<String>> signup(@RequestBody SignupRequest signupRequest) {
        return ResponseEntity.ok(authService.signup(signupRequest));
    }
    
    /**
     * Token refresh endpoint
     * @param refreshToken - refresh token
     * @return new JWT token
     */
    @PostMapping("/refresh")
    public ResponseEntity<ApiResponse<String>> refreshToken(@RequestBody String refreshToken) {
        return ResponseEntity.ok(authService.refreshToken(refreshToken));
    }
}
```

### 2. JobController
```java
@RestController
@RequestMapping("/api/jobs")
@RequiredArgsConstructor
public class JobController {
    private final JobService jobService;
    
    /**
     * Get all jobs (public endpoint)
     * @return List of all active jobs
     */
    @GetMapping
    public ResponseEntity<ApiResponse<List<JobDto>>> getAllJobs() {
        return ResponseEntity.ok(jobService.getAllJobs());
    }
    
    /**
     * Get job by ID
     * @param id - job ID
     * @return Job details
     */
    @GetMapping("/{id}")
    public ResponseEntity<ApiResponse<JobDto>> getJobById(@PathVariable Long id) {
        return ResponseEntity.ok(jobService.getJobById(id));
    }
    
    /**
     * Create new job (Recruiter only)
     * @param jobDto - job data
     * @return Created job
     */
    @PostMapping
    @PreAuthorize("hasRole('RECRUITER')")
    public ResponseEntity<ApiResponse<JobDto>> createJob(@RequestBody JobDto jobDto) {
        return ResponseEntity.ok(jobService.createJob(jobDto));
    }
    
    /**
     * Update job (Recruiter only)
     * @param id - job ID
     * @param jobDto - updated job data
     * @return Updated job
     */
    @PutMapping("/{id}")
    @PreAuthorize("hasRole('RECRUITER')")
    public ResponseEntity<ApiResponse<JobDto>> updateJob(@PathVariable Long id, @RequestBody JobDto jobDto) {
        return ResponseEntity.ok(jobService.updateJob(id, jobDto));
    }
    
    /**
     * Delete job (Recruiter/Admin only)
     * @param id - job ID
     * @return Success message
     */
    @DeleteMapping("/{id}")
    @PreAuthorize("hasRole('RECRUITER') or hasRole('ADMIN')")
    public ResponseEntity<ApiResponse<Void>> deleteJob(@PathVariable Long id) {
        return ResponseEntity.ok(jobService.deleteJob(id));
    }
}
```

### 3. ApplicationController
```java
@RestController
@RequestMapping("/api/applications")
@RequiredArgsConstructor
public class ApplicationController {
    private final ApplicationService applicationService;
    
    /**
     * Apply for a job (Student only)
     * @param applicationDto - application data
     * @return Application confirmation
     */
    @PostMapping
    @PreAuthorize("hasRole('STUDENT')")
    public ResponseEntity<ApiResponse<ApplicationDto>> applyForJob(@RequestBody ApplicationDto applicationDto) {
        return ResponseEntity.ok(applicationService.applyForJob(applicationDto));
    }
    
    /**
     * Get student applications
     * @param studentId - student ID
     * @return List of applications
     */
    @GetMapping("/student/{studentId}")
    @PreAuthorize("hasRole('STUDENT') or hasRole('ADMIN')")
    public ResponseEntity<ApiResponse<List<ApplicationDto>>> getStudentApplications(@PathVariable Long studentId) {
        return ResponseEntity.ok(applicationService.getStudentApplications(studentId));
    }
    
    /**
     * Get job applications (Recruiter only)
     * @param jobId - job ID
     * @return List of applications for the job
     */
    @GetMapping("/job/{jobId}")
    @PreAuthorize("hasRole('RECRUITER') or hasRole('ADMIN')")
    public ResponseEntity<ApiResponse<List<ApplicationDto>>> getJobApplications(@PathVariable Long jobId) {
        return ResponseEntity.ok(applicationService.getJobApplications(jobId));
    }
    
    /**
     * Update application status (Recruiter only)
     * @param id - application ID
     * @param status - new status
     * @return Updated application
     */
    @PutMapping("/{id}/status")
    @PreAuthorize("hasRole('RECRUITER') or hasRole('ADMIN')")
    public ResponseEntity<ApiResponse<ApplicationDto>> updateApplicationStatus(
            @PathVariable Long id, 
            @RequestParam ApplicationStatus status) {
        return ResponseEntity.ok(applicationService.updateApplicationStatus(id, status));
    }
}
```

### 4. TrainingController
```java
@RestController
@RequestMapping("/api/trainings")
@RequiredArgsConstructor
public class TrainingController {
    private final TrainingService trainingService;
    
    /**
     * Get all trainings
     * @return List of all trainings
     */
    @GetMapping
    public ResponseEntity<ApiResponse<List<TrainingDto>>> getAllTrainings() {
        return ResponseEntity.ok(trainingService.getAll());
    }
    
    /**
     * Get student's enrolled trainings
     * @param studentId - student ID
     * @return List of enrolled trainings
     */
    @GetMapping("/student/{studentId}")
    public ResponseEntity<ApiResponse<List<TrainingDto>>> getStudentTrainings(@PathVariable Long studentId) {
        return ResponseEntity.ok(trainingService.getByStudent(studentId));
    }
    
    /**
     * Create new training (Admin only)
     * @param trainingDto - training data
     * @return Created training
     */
    @PostMapping
    @PreAuthorize("hasRole('ADMIN')")
    public ResponseEntity<ApiResponse<TrainingDto>> createTraining(@RequestBody TrainingDto trainingDto) {
        return ResponseEntity.ok(trainingService.create(trainingDto));
    }
    
    /**
     * Update training (Admin only)
     * @param id - training ID
     * @param trainingDto - updated training data
     * @return Updated training
     */
    @PutMapping("/{id}")
    @PreAuthorize("hasRole('ADMIN')")
    public ResponseEntity<ApiResponse<TrainingDto>> updateTraining(@PathVariable Long id, @RequestBody TrainingDto trainingDto) {
        return ResponseEntity.ok(trainingService.update(id, trainingDto));
    }
    
    /**
     * Delete training (Admin only)
     * @param id - training ID
     * @return Success message
     */
    @DeleteMapping("/{id}")
    @PreAuthorize("hasRole('ADMIN')")
    public ResponseEntity<ApiResponse<Void>> deleteTraining(@PathVariable Long id) {
        return ResponseEntity.ok(trainingService.delete(id));
    }
}
```

### 5. AdminController
```java
@RestController
@RequestMapping("/api/admin")
@PreAuthorize("hasRole('ADMIN')")
@RequiredArgsConstructor
public class AdminController {
    private final AdminService adminService;
    
    /**
     * Get all students
     * @return List of all students
     */
    @GetMapping("/students")
    public ResponseEntity<ApiResponse<List<UserDto>>> getAllStudents() {
        return ResponseEntity.ok(adminService.getAllStudents());
    }
    
    /**
     * Get all recruiters
     * @return List of all recruiters
     */
    @GetMapping("/recruiters")
    public ResponseEntity<ApiResponse<List<UserDto>>> getAllRecruiters() {
        return ResponseEntity.ok(adminService.getAllRecruiters());
    }
    
    /**
     * Get all jobs
     * @return List of all jobs
     */
    @GetMapping("/jobs")
    public ResponseEntity<ApiResponse<List<JobDto>>> getAllJobs() {
        return ResponseEntity.ok(adminService.getAllJobs());
    }
    
    /**
     * Update user status
     * @param userId - user ID
     * @param status - new status
     * @return Success message
     */
    @PutMapping("/users/{userId}/status")
    public ResponseEntity<ApiResponse<String>> updateUserStatus(@PathVariable Long userId, @RequestParam Status status) {
        return ResponseEntity.ok(adminService.updateUserStatus(userId, status));
    }
    
    /**
     * Delete user
     * @param userId - user ID
     * @return Success message
     */
    @DeleteMapping("/users/{userId}")
    public ResponseEntity<ApiResponse<String>> deleteUser(@PathVariable Long userId) {
        return ResponseEntity.ok(adminService.deleteUser(userId));
    }
    
    /**
     * Get dashboard statistics
     * @return Dashboard data
     */
    @GetMapping("/dashboard")
    public ResponseEntity<ApiResponse<DashboardDto>> getDashboardStats() {
        return ResponseEntity.ok(adminService.getDashboardStats());
    }
}
```

## SECURITY CONFIGURATION

### 1. JWT Security Config
```java
@Configuration
@EnableWebSecurity
@EnableMethodSecurity
@RequiredArgsConstructor
public class SecurityConfig {
    private final JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;
    private final JwtRequestFilter jwtRequestFilter;
    
    @Bean
    public PasswordEncoder passwordEncoder() {
        return new BCryptPasswordEncoder();
    }
    
    @Bean
    public AuthenticationManager authenticationManager(AuthenticationConfiguration config) throws Exception {
        return config.getAuthenticationManager();
    }
    
    @Bean
    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {
        http.csrf(csrf -> csrf.disable())
            .authorizeHttpRequests(authz -> authz
                .requestMatchers("/api/auth/**").permitAll()
                .requestMatchers("/api/jobs").permitAll()
                .requestMatchers("/api/admin/**").hasRole("ADMIN")
                .requestMatchers("/api/student/**").hasRole("STUDENT")
                .requestMatchers("/api/recruiter/**").hasRole("RECRUITER")
                .anyRequest().authenticated()
            )
            .exceptionHandling(ex -> ex.authenticationEntryPoint(jwtAuthenticationEntryPoint))
            .sessionManagement(session -> session.sessionCreationPolicy(SessionCreationPolicy.STATELESS));
        
        http.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);
        return http.build();
    }
}
```

### 2. JWT Utility
```java
@Component
public class JwtUtil {
    private String secret = "mySecretKey";
    private int jwtExpiration = 86400; // 24 hours
    
    public String generateToken(UserDetails userDetails) {
        Map<String, Object> claims = new HashMap<>();
        return createToken(claims, userDetails.getUsername());
    }
    
    private String createToken(Map<String, Object> claims, String subject) {
        return Jwts.builder()
                .setClaims(claims)
                .setSubject(subject)
                .setIssuedAt(new Date(System.currentTimeMillis()))
                .setExpiration(new Date(System.currentTimeMillis() + jwtExpiration * 1000))
                .signWith(SignatureAlgorithm.HS512, secret)
                .compact();
    }
    
    public Boolean validateToken(String token, UserDetails userDetails) {
        final String username = getUsernameFromToken(token);
        return (username.equals(userDetails.getUsername()) && !isTokenExpired(token));
    }
    
    public String getUsernameFromToken(String token) {
        return getClaimFromToken(token, Claims::getSubject);
    }
    
    public Date getExpirationDateFromToken(String token) {
        return getClaimFromToken(token, Claims::getExpiration);
    }
    
    public <T> T getClaimFromToken(String token, Function<Claims, T> claimsResolver) {
        final Claims claims = getAllClaimsFromToken(token);
        return claimsResolver.apply(claims);
    }
    
    private Claims getAllClaimsFromToken(String token) {
        return Jwts.parser().setSigningKey(secret).parseClaimsJws(token).getBody();
    }
    
    private Boolean isTokenExpired(String token) {
        final Date expiration = getExpirationDateFromToken(token);
        return expiration.before(new Date());
    }
}
```

## APPLICATION PROPERTIES
```properties
# Database Configuration
spring.datasource.url=jdbc:mysql://localhost:3306/tpms_db?useSSL=false&allowPublicKeyRetrieval=true
spring.datasource.username=root
spring.datasource.password=your_password
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# JPA Configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect
spring.jpa.properties.hibernate.format_sql=true

# Server Configuration
server.port=8080
server.servlet.context-path=/

# JWT Configuration
jwt.secret=mySecretKey
jwt.expiration=86400

# File Upload Configuration
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# Logging Configuration
logging.level.com.tpms=DEBUG
logging.level.org.springframework.security=DEBUG

# CORS Configuration
cors.allowed-origins=http://localhost:5173
cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
cors.allowed-headers=*
```

## API ENDPOINTS SUMMARY

### Authentication Endpoints
- POST /api/auth/login - User login
- POST /api/auth/signup - User registration
- POST /api/auth/refresh - Token refresh

### Job Endpoints
- GET /api/jobs - Get all jobs
- GET /api/jobs/{id} - Get job by ID
- POST /api/jobs - Create job (Recruiter)
- PUT /api/jobs/{id} - Update job (Recruiter)
- DELETE /api/jobs/{id} - Delete job (Recruiter/Admin)

### Application Endpoints
- POST /api/applications - Apply for job (Student)
- GET /api/applications/student/{id} - Get student applications
- GET /api/applications/job/{id} - Get job applications (Recruiter)
- PUT /api/applications/{id}/status - Update application status (Recruiter)

### Training Endpoints
- GET /api/trainings - Get all trainings
- GET /api/trainings/student/{id} - Get student trainings
- POST /api/trainings - Create training (Admin)
- PUT /api/trainings/{id} - Update training (Admin)
- DELETE /api/trainings/{id} - Delete training (Admin)

### Admin Endpoints
- GET /api/admin/students - Get all students
- GET /api/admin/recruiters - Get all recruiters
- GET /api/admin/jobs - Get all jobs
- PUT /api/admin/users/{id}/status - Update user status
- DELETE /api/admin/users/{id} - Delete user
- GET /api/admin/dashboard - Get dashboard stats

### Student Profile Endpoints
- GET /api/student/profile/{id} - Get student profile
- PUT /api/student/profile/{id} - Update student profile
- POST /api/student/profile/{id}/resume - Upload resume
- GET /api/student/profile/{id}/resume - Download resume

## DEFAULT LOGIN CREDENTIALS
- Admin: admin@demo.com / password
- Student: student@demo.com / password
- Recruiter: recruiter@demo.com / password

## FEATURES IMPLEMENTED
1. JWT Authentication & Authorization
2. Role-based Access Control
3. File Upload/Download (Resume)
4. Real-time Data Integration
5. Comprehensive CRUD Operations
6. Database Relationships
7. Input Validation
8. Error Handling
9. API Documentation
10. Security Best Practices

This backend provides a complete REST API for the Training Placement Management System with proper security, validation, and database integration.